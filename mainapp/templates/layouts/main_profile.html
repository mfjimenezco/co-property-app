{% extends 'layouts/main_app.html'%}

{% load i18n %}

{% block content %}
<div class="row">
    <div class="col-md-3">

        <!-- Profile Image -->
        <div class="card">
            <div class="card-body box-profile">
                <div class="text-center">
                    <img class="profile-user-img img-fluid img-circle"
                        src="https://avatar.oxro.io/avatar.svg?name={{ request.user.first_name }} {{ request.user.last_name }}&background=17a2b8"
                        alt="User profile picture">
                </div>

                <h3 class="profile-username text-center">{{ request.user.first_name }} {{ request.user.last_name }}</h3>

                <p class="text-muted text-center">{{ request.user.email }}</p>

                <ul class="list-group list-group-unbordered mb-3">
                    <li class="list-group-item">
                        <b>{% trans "Username" %}:</b>
                        <span class="float-right">
                            {{ request.user}}
                        </span>
                    </li>
                    <li class="list-group-item">
                        <b>{% trans "Joined" %}:</b>
                        <span class="float-right">
                            {{ request.user.date_joined|date:'j F Y'}}
                        </span>
                    </li>
                    <li class="list-group-item">
                        <b>{% trans "Last connection" %}:</b>
                        <span class="float-right">
                            {{ request.user.last_login|date:'j F Y, h:i A' }}
                        </span>
                    </li>
                </ul>
            </div>
            <!-- /.card-body -->
        </div>
        <!-- /.card -->
    </div>
    <!-- /.col -->
    <div class="col-md-9">
        <div class="card">
            <div class="card-header">
                <ul class="nav nav-tabs card-header-tabs" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link {% if request.resolver_match.view_name  == 'accounts:profile' %}active{% endif %}"
                            href="{% url 'accounts:profile' %}">
                            {% trans "Basic information" %}
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.resolver_match.view_name  == 'accounts:change_password' %}active{% endif %}"
                            href="{% url 'accounts:change_password' %}">
                            {% trans "Password" %}
                        </a>
                    </li>
                </ul>
            </div><!-- /.card-header -->
            <div class="card-body">
                <div class="tab-content pt-2">
                    {% block tab_content %}{% endblock tab_content %}
                </div>
                <!-- /.tab-content -->
            </div><!-- /.card-body -->
        </div>
        <!-- /.card -->
    </div>
    <!-- /.col -->
</div>
{% endblock content %}